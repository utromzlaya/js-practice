<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>๐ถ DOGS API ๐ถ</title>
  </head>
  <body>
    <!-- https://github.com/visionmedia/superagent -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/superagent/4.1.0/superagent.min.js"
      integrity="sha512-LJaxxgpiq7SihGQ21nejROsll6FRrgbs0Wxtgqb5x+Q0CJICA3vt8hlBxSD8NLsO+Yabgg3B7ARexiijKiojGg=="
      crossorigin="anonymous"
    ></script>
    <script>
      console.log(
        "%c ๐ถ DOGS APP STARTED!",
        "color: green; font-weight: bold;"
      );
      var apiPromise = new Promise( function(res,rej){
          var dogsInfo = superagent.get('https://api.thedogapi.com/v1/breeds');
          res(dogsInfo);
      }); 
               
      var shomMeDogsString = function(){
        return apiPromise
          .then(function(res){
            var dogs = res.body;
            var dogsString = res.body
            .map(dog=>dog.name)

            .reduce(function(acc,next){
            var repeatedNames = acc.filter(function(breedName){
            return breedName.charAt(0) === next.charAt(0)})

             if(repeatedNames.length >= 2) {
               return acc
              } else {
                return acc.concat(next)
              }}, [])

            .join("\n");

            console.log(dogsString);
            alert(dogsString);

            var choosedBreed = prompt('Choose your breed please: ', 'Vizsla');
            console.log("%c chosen breed --->> " + choosedBreed,
            "color: blue;");

            var temp = dogs.findIndex(obj=>obj.name == choosedBreed);
            var dogId = dogs[temp].id;
            console.log("%c id of dog breed --->> " + dogId,
            "color: red;");
          })
          .then((res)=>
            console.log(
            "%c ๐ถ SYNC CODE FINISHED!",
            "color: green; font-weight: bold;"
            ))
          .catch(err=>
            console.log('ERROR')
          );         
        
        };

        shomMeDogsString();

    </script>
  </body>
</html>


<!--
  1. ะะตะฐะปะธะทะพะฒะฐัั ะฒัะฒะพะด ะฒ alert ะฟะพ 2 ะฟะพัะพะดั ะฝะฐ ะบะฐะถะดัั ะฑัะบะฒั. (1)
     ะัะธะผะตั ะฒัะฒะพะดะฐ:
     A: Affenpinscher, Afghan Hound
     B: Barbet, Basenji
     C: Cairn Terrier, Cane Corso
     ... ะธ ัะฐะบ ะดะฐะปะตะต ...
  2. ะะพัะปะต ะฒัะฒะพะดะฐ alert ะทะฐะฟัะพัะธัั ั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพัะพะดั ัะพะฑะฐะบะธ ัะตัะตะท prompt
  3. ะัะฟะพะปัะทัั ะตะฝะดะฟะพะธะฝั `https://api.thedogapi.com/v1/images/search?include_breed=1&breed_id=${dogId}` ---- https://docs.thedogapi.com/example-by-breed
     ะฟะพะปััะธัั ะดะตัะฐะปัะฝัั ะธะฝัะพัะผะฐัะธั ะพ ัะพะฑะฐะบะต ะฟะพ id ะฟะพัะพะดั
  4. ะัะฒะตััะธ ะธะฝัะพัะผะฐัะธั ะพ ะฟะพัะพะดะต ะฒ alert
  * ะธัะฟะพะปัะทัะตะผ ัะพะปัะบะพ GET ะทะฐะฟัะพัั, ะบะฐะบ ะฒ ะฟัะธะผะตัะต ะฒััะต.
-->

<!--
  User story:
  ะฏ ะบะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั ัะพัั ัะฒะธะดะตัั ะฒ ัะพะพะฑัะตะฝะธะธ ัะฟะธัะพะบ ะฟะพัะพะด ัะพะฑะฐะบ,
  ะฟะพัะปะต ะทะฐะบัััะธั ะพะบะฝะฐ ั ัะพะพะฑัะตะฝะธะตะผ ัะพัั ัะฒะธะดะตัั ะฝะพะฒะพะต ะพะบะฝะพ ะฒ ะบะพัะพัะพะต ะผะพะณั ะฒะฒะตััะธ ะฝะฐะทะฒะฐะฝะธะต ะธะฝัะตัะตััััะตะน ะผะตะฝั ะฟะพัะพะดั,
  ะฟะพัะปะต ะฒะฒะตะดะตะฝะธั ะฟะพัะพะดั ะธ ะฝะฐะถะฐัะธั ะฝะฐ ะพะบ ัะพัั ะฟะพะปััะธัั ะฝะพะฒะพะต ะพะบะฝะพ ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะฒะฒะตะดะตะฝะฝะพะน ะฟะพัะพะดะต.
 -->
